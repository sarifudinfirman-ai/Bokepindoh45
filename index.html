<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bokepindoh45</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üé•</text></svg>">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    :root { --primary:#6c5ce7; --dark:#0b0f1a; --light:#f8f9fa; --gray:#8d99ae; }
    body { background:linear-gradient(135deg, var(--dark), #121826); color:var(--light); font-family:'Segoe UI',sans-serif; padding:20px; min-height:100vh; }
    .container { max-width:1200px; margin:0 auto; }
    header { text-align:center; padding:40px 20px; margin-bottom:30px; }
    .logo { font-size:3.2rem; margin-bottom:12px; background:linear-gradient(90deg, #6c5ce7, #a29bfe); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
    h1 { font-size:2.4rem; margin-bottom:12px; }
    .subtitle { color:var(--gray); max-width:600px; margin:0 auto; }
    .videos-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:28px; padding:0 10px; }
    .video-card { background:rgba(255,255,255,0.05); border-radius:16px; overflow:hidden; transition:all 0.3s; box-shadow:0 6px 16px rgba(0,0,0,0.2); cursor:pointer; backdrop-filter:blur(10px); }
    .video-card:hover { transform:translateY(-8px); background:rgba(255,255,255,0.08); box-shadow:0 10px 25px rgba(0,0,0,0.3); }
    .thumbnail { height:160px; display:flex; align-items:center; justify-content:center; background:linear-gradient(135deg, #2d3436, #636e72); position:relative; }
    .thumbnail::after { content:"‚ñ∂"; position:absolute; font-size:32px; color:white; opacity:0.9; }
    .video-info { padding:18px; }
    .video-info h3 { font-size:1.25rem; margin-bottom:8px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .meta { display:flex; justify-content:space-between; color:var(--gray); font-size:0.875rem; }
    .loading { grid-column:1/-1; text-align:center; padding:40px 20px; color:var(--gray); }
    .spinner { width:40px; height:40px; border:4px solid rgba(255,255,255,0.3); border-top:4px solid var(--primary); border-radius:50%; animation:spin 1s linear infinite; margin:0 auto 20px; }
    @keyframes spin { to { transform:rotate(360deg); } }
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.92); z-index:1000; justify-content:center; align-items:center; padding:20px; }
    .modal-content { width:100%; max-width:900px; background:#0b0f1a; border-radius:20px; overflow:hidden; }
    .modal-header { padding:20px; display:flex; justify-content:space-between; align-items:center; background:rgba(0,0,0,0.4); }
    .modal-header h2 { font-size:1.5rem; }
    .close-btn { background:var(--primary); color:white; border:none; width:40px; height:40px; border-radius:50%; font-size:18px; cursor:pointer; }
    video { width:100%; background:black; }
    footer { text-align:center; padding:30px 20px 20px; color:var(--gray); border-top:1px solid rgba(255,255,255,0.05); margin-top:40px; }
    @media (max-width:480px) { .videos-grid { grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">üé•</div>
      <h1>Galeri Video Publik</h1>
      <p class="subtitle">Koleksi video eksklusif yang bisa ditonton oleh siapa saja</p>
    </header>

    <div class="videos-grid" id="videoList">
      <div class="loading">
        <div class="spinner"></div>
        <p>Memuat video...</p>
      </div>
    </div>

    <footer>
      <p>¬© <span id="year"></span> Galeri Video. Semua hak dilindungi.</p>
    </footer>
  </div>

  <div class="modal" id="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modalTitle">Video</h2>
        <button class="close-btn" onclick="closeModal()">√ó</button>
      </div>
      <video controls id="videoPlayer"></video>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
  <script>
    // üîë KONFIGURASI FIREBASE ANDA (SUDAH DIISI DENGAN DATA ASLI)
    const firebaseConfig = {
      apiKey: "AIzaSyDrlRErNsxPp_13Ol2hJSP3a1lgK4BLaMI",
      authDomain: "bokepindoh45.firebaseapp.com",
      projectId: "bokepindoh45",
      storageBucket: "bokepindoh45.firebasestorage.app",
    };
    
    // Inisialisasi Firebase
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();
    document.getElementById('year').textContent = new Date().getFullYear();

    async function loadVideos() {
      try {
        const listRef = storage.ref('videos');
        const res = await listRef.listAll();
        const container = document.getElementById('videoList');
        
        if (res.items.length === 0) {
          container.innerHTML = `<div class="loading"><div style="font-size:4rem;margin-bottom:20px">üì≠</div><h3>Belum Ada Video</h3><p>Video akan muncul setelah diunggah oleh admin.</p></div>`;
          return;
        }

        container.innerHTML = '';
        for (const item of res.items) {
          const url = await item.getDownloadURL();
          const name = item.name.replace(/\.[^/.]+$/, "");
          const card = document.createElement('div');
          card.className = 'video-card';
          card.innerHTML = `<div class="thumbnail"></div><div class="video-info"><h3>${name}</h3><div class="meta"><span>MP4</span><span>Online</span></div></div>`;
          card.onclick = () => playVideo(url, name);
          container.appendChild(card);
        }
      } catch (e) {
        document.getElementById('videoList').innerHTML = `<div class="loading"><div style="font-size:4rem;margin-bottom:20px">‚ö†Ô∏è</div><h3>Gagal Memuat</h3><p>Periksa koneksi internet.</p></div>`;
      }
    }

    function playVideo(url, title) {
      document.getElementById('videoPlayer').src = url;
      document.getElementById('modalTitle').textContent = title;
      document.getElementById('modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      document.getElementById('modal').style.display = 'none';
      document.body.style.overflow = '';
      const video = document.getElementById('videoPlayer');
      video.pause();
      video.src = '';
    }

    document.getElementById('modal').onclick = (e) => {
      if (e.target === document.getElementById('modal')) closeModal();
    };

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    loadVideos();
  </script>
</body>
</html>